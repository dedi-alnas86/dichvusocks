<!DOCTYPE html>
<html>
<head>
	<title>Created: Dedi Alnas IP and Port Parser</title>
	<!-- include Bootstrap CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
	<div class="container mt-4">
		<div class="row">
			<div class="col-md-6 offset-md-3">
				<div class="card">
					<div class="card-header bg-info text-white">
						<h4>IP and Port Parser Created Dedi Alnas</h4>
					</div>
					<div class="card-body">
						<div class="form-group">
							<label for="input-data">Input Data:</label>
							<textarea class="form-control" id="input-data" rows="5" placeholder="Enter data"></textarea>
						</div>
						<button type="button" class="btn btn-primary" onclick="parseData()">Parse Data</button>
						<hr>
						<h3>Output:</h3>
						<ul class="list-group" id="output-list"></ul>
						<div class="form-group mt-3">
							<label for="output-text">Copy Output:</label>
							<textarea class="form-control" id="output-text" rows="5" readonly></textarea>
						</div>
						<button class="btn btn-secondary" type="button" onclick="copyToClipboard()">Copy to Clipboard</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- include Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.3/dist/umd/popper-base.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"></script>

	<!-- custom JavaScript code -->
	<script>
		function parseData() {
			const inputData = document.getElementById("input-data").value.trim();
			const dataArr = inputData.split("\n");
			const outputList = document.getElementById("output-list");
			const outputText = document.getElementById("output-text");

			outputList.innerHTML = ""; // reset output list
			outputText.value = ""; // reset output text

			dataArr.forEach(data => {
				const ipPort = data.split("|")[0].trim();
				const port = ipPort.split(":")[1];
				const ip = ipPort.split(":")[0];
				const listItem = document.createElement("li");
				listItem.className = "list-group-item";
				listItem.innerHTML = `IP: ${ip} <br> Port: ${port}`;
				outputList.appendChild(listItem);
				outputText.value += ipPort + "\n";
			});
		}

		function copyToClipboard() {
			const outputText = document.getElementById("output-text");
			outputText.select();
			document.execCommand("copy");
			alert("data sudah dicopy");
		}
	</script>
</body>
</html>
